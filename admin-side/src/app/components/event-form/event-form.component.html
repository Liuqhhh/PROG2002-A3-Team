<div class="container mt-4">
  <h2>{{ isEdit ? '编辑活动' : '新增活动' }}</h2>
  
  <div *ngIf="loading" class="alert alert-info">
    正在加载活动数据...
  </div>
  
  <form (ngSubmit)="onSubmit()" class="mt-3" *ngIf="!loading">
    <div class="mb-3">
      <label class="form-label">活动标题</label>
      <input type="text" class="form-control" [(ngModel)]="event.title" name="title" required>
    </div>

    <div class="mb-3">
      <label class="form-label">活动描述</label>
      <textarea class="form-control" [(ngModel)]="event.description" name="description" rows="3" required></textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">日期</label>
      <input type="text" class="form-control" [(ngModel)]="event.event_date" name="event_date" 
             placeholder="格式: YYYY-MM-DD (例如: 2024-01-15)" required>
      <small class="form-text text-muted">请输入日期，格式: YYYY-MM-DD</small>
    </div>

    <div class="mb-3">
      <label class="form-label">地点</label>
      <input type="text" class="form-control" [(ngModel)]="event.location" name="location" required>
    </div>

    <div class="row">
      <div class="col-md-6 mb-3">
        <label class="form-label">票价 ($)</label>
        <input type="number" class="form-control" [(ngModel)]="event.ticket_price" name="ticket_price" min="0" required>
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label">可用票数</label>
        <input type="number" class="form-control" [(ngModel)]="event.available_tickets" name="available_tickets" min="0" required>
      </div>
    </div>

    <div class="btn-group">
      <button type="submit" class="btn btn-primary" [disabled]="loading">
        {{ loading ? '保存中...' : (isEdit ? '更新' : '创建') }}
      </button>
      <button type="button" class="btn btn-secondary" routerLink="/events">取消</button>
    </div>
  </form>
</div>